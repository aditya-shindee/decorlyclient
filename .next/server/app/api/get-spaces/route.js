(()=>{var e={};e.id=214,e.ids=[214],e.modules={20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},58359:()=>{},93739:()=>{},69363:(e,r,t)=>{"use strict";t.r(r),t.d(r,{originalPathname:()=>h,patchFetch:()=>g,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>x,staticGenerationAsyncStorage:()=>m});var s={};t.r(s),t.d(s,{GET:()=>n});var i=t(49303),a=t(88716),o=t(60670),c=t(85662),u=t(87070),p=t(10390);async function n(e){try{let{searchParams:r}=new URL(e.url),t=r.get("userId");if(!t)return u.NextResponse.json({error:"userId is required"},{status:400});let{data:s,error:i}=await c.O.from("spaces").select("room_type, id, theme").eq("user_id",t).order("created_at",{ascending:!1}).limit(10),a=s?.map(({room_type:e,id:r,...t})=>({name:e,url:`/studio/${r}`,...t}));if(i)return console.error("Error fetching spaces:",i),await (0,p.c)("Spaces Fetch Error","/api/get-spaces",`Failed to fetch spaces for user ${t}

${JSON.stringify(i)}`,e.url),u.NextResponse.json({error:"Failed to fetch spaces"},{status:500});return u.NextResponse.json({spaces:a||[]},{status:200})}catch(r){return console.error("Error in spaces API:",r),await (0,p.c)("Spaces Fetch Exception Error","/api/get-spaces",`Failed to fetch spaces

${JSON.stringify(r)}`,e.url),u.NextResponse.json({error:"Internal server error"},{status:500})}}let d=new i.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/get-spaces/route",pathname:"/api/get-spaces",filename:"route",bundlePath:"app/api/get-spaces/route"},resolvedPagePath:"/home/project/app/api/get-spaces/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:x}=d,h="/api/get-spaces/route";function g(){return(0,o.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:m})}},10390:(e,r,t)=>{"use strict";t.d(r,{c:()=>i});var s=t(85662);async function i(e,r,t,i){try{await s.O.from("error_logs").insert({title:e,endpoint:r,error_message:t,request_url:i||"",created_at:new Date().toISOString()})}catch(e){console.error("Failed to save error to database:",e)}}},85662:(e,r,t)=>{"use strict";t.d(r,{O:()=>s});let s=(0,t(72438).eI)("https://xzecfauvsumzwqgquzga.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh6ZWNmYXV2c3VtendxZ3F1emdhIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg3NzQ3MzcsImV4cCI6MjA2NDM1MDczN30.rUBzaJpA6rjlSER6FcZnm-DR-Pd2Qh1TMNkiiyv52Mc")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[510,922],()=>t(69363));module.exports=s})();